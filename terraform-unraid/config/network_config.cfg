version: 2
renderer: networkd
ethernets:
  management:
    match:
      driver: virtio_net
    dhcp4: true

  usb_ethernet:
    match:
      macaddress: "00:24:9b:72:11:12"
    set-name: usb-eth
    dhcp4: false  # Bridging requires static IP or no DHCP here.

  wifi:
    match:
      macaddress: "6c:b0:ce:13:31:82"
    set-name: wifi
    dhcp4: false  # Same as above, handled by the bridge.

bridges:
  br0:
    interfaces:
      - usb-eth
      - wifi
    dhcp4: true  # Bridge gets its IP dynamically.
    parameters:
      stp: false  # Disable Spanning Tree Protocol for performance.
